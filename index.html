<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>NoMQ by wassgren</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>NoMQ</h1>
          <h2>Not a Message Queue (but a simple drop-in event queue)</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/wassgren/NoMQ/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/wassgren/NoMQ/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/wassgren/NoMQ" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="nomq" class="anchor" href="#nomq"><span class="octicon octicon-link"></span></a>NoMQ</h1>

<p><strong>NoMQ</strong> is short for <em>Not a Message Queue</em>. It is a distributed event queue that is based on Java 8 and Hazelcast. NoMQ requires
<strong>NO</strong> installation, simply add the jar to your project.</p>

<h2>
<a name="prerequisites" class="anchor" href="#prerequisites"><span class="octicon octicon-link"></span></a>Prerequisites</h2>

<ul>
<li>Java 8</li>
</ul><h2>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>
<strong>durability:</strong> events survive reboots</li>
<li>
<strong>late join:</strong> new nodes can join later on</li>
<li>
<strong>ordering:</strong> events are delivered in the same order on all nodes</li>
<li>
<strong>no additional installation required:</strong> simply include the jars and configure NoMQ from within your Java-code.</li>
</ul><h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h1>

<p>If you want to subscribe for events in the NoMQ cluster you need to register an <em>EventSubscriber</em>. The following code starts a
NoMQ instance and registers an event subscriber that simply echoes the event id on System.out. Events can be published by any
node in the cluster, they will arrive at all event subscribers in the same order.</p>

<div class="highlight highlight-java"><pre><span class="n">NoMQ</span> <span class="n">noMQ</span> <span class="o">=</span> <span class="n">NoMQBuilder</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>               <span class="c1">// Obtain a reference to the builder</span>
    <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">id</span><span class="o">()))</span> <span class="c1">// Register a subscriber that echoes the id</span>
    <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">e</span> <span class="o">-&gt;</span> <span class="n">doSomethingWithEvent</span><span class="o">(</span><span class="n">e</span><span class="o">))</span>    <span class="c1">// Register another subscriber that does something with the event</span>
    <span class="o">.</span><span class="na">build</span><span class="o">()</span>                                    <span class="c1">// Build the NoMQ-instance</span>
    <span class="o">.</span><span class="na">start</span><span class="o">();</span>                                   <span class="c1">// Start it (enable publish and subscribe)</span>

<span class="c1">// Publish an event</span>
<span class="n">noMQ</span><span class="o">.</span><span class="na">publish</span><span class="o">(</span><span class="s">"Some payload"</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
</pre></div>

<p>The event interface is pretty straightforward, it contains a generated unique id together with the payload provided by the
publisher of the event.</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Event</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">id</span><span class="o">();</span>
    <span class="kt">byte</span><span class="o">[]</span> <span class="nf">payload</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>

<p>The <em>EventSubscribers: simply implements the method _onEvent</em>.</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">EventSubscriber</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">onEvent</span><span class="o">(</span><span class="n">Event</span> <span class="n">event</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<h2>
<a name="configuring-the-cluster" class="anchor" href="#configuring-the-cluster"><span class="octicon octicon-link"></span></a>Configuring the cluster</h2>

<p>NoMQ is based on Hazelcast - to set up a cluster follow the instructions on the Hazelcast website
(<a href="http://hazelcast.org/docs/latest/manual/html-single/hazelcast-documentation.html#network-configuration">http://hazelcast.org/docs/latest/manual/html-single/hazelcast-documentation.html#network-configuration</a>)</p>
        </section>

        <footer>
          NoMQ is maintained by <a href="https://github.com/wassgren">wassgren</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-50620574-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>